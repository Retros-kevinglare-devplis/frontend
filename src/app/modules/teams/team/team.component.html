<section class="breadcrumbs">
  <div class="container">
    <div class="row">
      <div class="col-6">
        <ol>
          <li><a (click)="goToHome()">Home</a></li>
          <li><a (click)="goToTeams()">{{title}}</a></li>
          <li class="text-capitalize">
            {{
            (newTeamName$ | async) ?? ((isNewTeam$ | async) ? 'New' : formService.form.get('title')?.value)
            }}
          </li>
        </ol>
        <h2 class="text-capitalize">
          {{
          (newTeamName$ | async) ?? ((isNewTeam$ | async) ? 'New' : formService.form.get('title')?.value)
          }}
        </h2>
        <p>{{(team$ | async)?.description}}</p>
      </div>
      <div class="col-6 d-flex justify-content-end align-items-center">
        <button
          *ngIf="(isNewTeam$ | async) === false"
          (click)="removeTeam()"
          type="button"
          class="btn btn-light"
        >
          <i class="bi bi-trash3"></i>
        </button>
      </div>
    </div>
  </div>
</section>

<div class="container">
<section *ngIf="(isNewTeam$ | async) === false; else newTeam">
  <form *ngIf="(team$ | async) as team" [formGroup]="formService.form">
      <div class="row">
        <div class="col">
          <mat-form-field class="w-100 my-2" appearance="fill">
            <mat-label>Name</mat-label>
            <input type="text" matInput formControlName="title" placeholder="Ex. My team">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-6">
          <div class="row">
            <div class="col-12">
              <h4 class="text-muted">Collaborators</h4>
            </div>
            <div class="col-12 mb-4" *ngFor="let collaborator of team.collaborators">
              <div class="card bg-primary text-white border-0">
                <div class="card-body">
                  <h3 class="card-title text-capitalize">{{collaborator.user.firstName}}</h3>
                  <div class="card-text">

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-6">
          <div class="row">
            <div class="col-12">
              <h4 class="text-muted">Retros</h4>
            </div>
            <div class="col-12 mb-4" *ngFor="let retro of team.retros">
              <div class="card bg-warning border-0">
                <div class="card-body">
                  <h3 class="card-title text-capitalize">{{retro.createdAt}}</h3>
                  <div class="card-text">

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
</section>
</div>
<ng-template #newTeam>
  <section>
    <app-new-team (teamName)="changeTeamName($event)"></app-new-team>
  </section>
</ng-template>

